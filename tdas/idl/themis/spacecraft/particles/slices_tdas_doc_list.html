<!-- This file was generated by mk_html_help.pro -->
<html>
 
<head>
<TITLE>themis/spacecraft/particles/slices</TITLE>
</head>
 
<body>
<P>
This page was created by the IDL library routine 
<CODE>mk_html_help2</CODE>.
<br>
<P>
<STRONG>Last modified: </STRONG>Wed Apr 14 11:49:06 2010.<P>
 
<HR>
 
<A NAME="ROUTINELIST">
<H1>Directory Listing of Routines</H1></A>
<UL>
<H1>themis/spacecraft/particles/slices</H1>
<LI><A HREF="#PLOT_PART_SLICE2D">PLOT_PART_SLICE2D</A>
<LI><A HREF="#THM_PART_DIST_ARRAY">THM_PART_DIST_ARRAY</A>
<LI><A HREF="#THM_PART_DIST_VELS">THM_PART_DIST_VELS</A>
<LI><A HREF="#THM_PART_SLICE2D">THM_PART_SLICE2D</A>
<br>
</UL><P>
<HR>
 
<H1>Routine Descriptions</H1>
<A NAME="PLOT_PART_SLICE2D">
<H2>PLOT_PART_SLICE2D</H2></A>
<A HREF="#THM_PART_DIST_ARRAY">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
Procedure: plot_part_slice2d

Purpose: Set options for plotting 2D particle slices.

Arguments:
 PART_SLICE: 2D array of values to plot 

Keywords:
 XGRID: X location of data points.
 YGRID: Y location of data points.
 RANGE: Two-element array specifying range of flux (zrange) of velocities.

Created by Bryan Kerr
</PRE><P>
<STRONG>(See <A href="slices/plot_part_slice2d.pro">themis/spacecraft/particles/slices/plot_part_slice2d.pro</A>)</STRONG><P>
<HR>
 
<A NAME="THM_PART_DIST_ARRAY">
<H2>THM_PART_DIST_ARRAY</H2></A>
<A HREF="#PLOT_PART_SLICE2D">[Previous Routine]</A>
<A HREF="#THM_PART_DIST_VELS">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
Procedure: thm_part_dist_array

Purpose: Returns and array of particle distributions for use by THM_PART_SLICE2D.

Details: This is basically a wrapper for THM_PART_DIST that will create an
         array of particle distribution structures sorted by increasing time.
         

Keywords:
 FORMAT: A string denoting the data that is desired: options are:
           'tha_peif': Full Esa mode data, ions, probe A
           'tha_peef': Full Esa mode data, electrons, probe A
           'tha_peir': Reduced Esa mode data, ions, probe A
           'tha_peer': Reduced Esa mode data, electrons, probe A
           'tha_peir': Burst Esa mode data, ions, probe A
           'tha_peer': Reduced Esa mode data, electrons, probe A
           'tha_psif': Full Sst mode data, ions, probe A
           'tha_psef': Full Sst mode data, electrons, probe A
           'tha_psir': Reduced Sst mode data, ions, probe A
           'tha_pser': Reduced Sst mode data, electrons, probe A
         For other probes, just replace 'tha' with the appropriate string,
         'thb', 'thc', 'thd', 'the'.  If this is not set, then the string is
         constructed from the type and probe keywords.
 TRANGE: Time range of interest (2 element array).
 TYPE: Four character string denoting the type of data that you need,
       e.g., 'peif' for full mode esa data.
 PROBE: The THEMIS probe, 'a','b','c','d','e'.
 MAG_DATA: Tplot variable containing magnetic field data that you want added
           to the dat structures.
 VEL_DATA: Tplot variable containing velocity data that you want added to dat
           structure under the tag name 'velocity'.  Overrides VEL_AUTO keyword.
           The velocity data will be intpolated to the cadence of the particle
           distributions.
 VEL_AUTO: Automatically calculates velocity at each time sample using V_3D.PRO
           and adds it to the dat structure with the tag name 'velocity'.

See Also: THM_PART_SLICD2D, THM_CRIB_PART_SLICE2D, THM_PART_MAKE_DIST,
          THM_PART_DIST_VELS, TINTERPOL_MXN, ADD_MAGF, V_3D

Created by Bryan Kerr
</PRE><P>
<STRONG>(See <A href="slices/thm_part_dist_array.pro">themis/spacecraft/particles/slices/thm_part_dist_array.pro</A>)</STRONG><P>
<HR>
 
<A NAME="THM_PART_DIST_VELS">
<H2>THM_PART_DIST_VELS</H2></A>
<A HREF="#THM_PART_DIST_ARRAY">[Previous Routine]</A>
<A HREF="#THM_PART_SLICE2D">[Next Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
Procedure: thm_part_dist_vels

Purpose: Calculate bulk particle velocities from a structure array of particle
         distrubutions and store in a tplot variable.

Arguments:
  DIST_ARR: An array of data structures as returned by one of the get_th?_p???
            routines (or THM_PART_DIST_ARRAY).
  OUT_NAME: Name of tplot variable in which to store the velocities.

See Also: THM_PART_DIST_ARRAY, V_3D

Created by Bryan Kerr
</PRE><P>
<STRONG>(See <A href="slices/thm_part_dist_vels.pro">themis/spacecraft/particles/slices/thm_part_dist_vels.pro</A>)</STRONG><P>
<HR>
 
<A NAME="THM_PART_SLICE2D">
<H2>THM_PART_SLICE2D</H2></A>
<A HREF="#THM_PART_DIST_VELS">[Previous Routine]</A>
<A HREF="#ROUTINELIST">[List of Routines]</A>
<PRE>
Procedure: thm_part_slice2d

Purpose: Returns a 2-D slice of the 3-D THEMIS ESA/SST ion or electron distribution
         function.  The 2-D slice is returned via the VPARA, VPERP, and ZDATA
         keywords.

Arguments:
 datArray: An array of data structures as returned by one of the get_th?_p???
            routines.  The structure needs to contain a magf field containing
            a three-component magnetic field vector.

Input Keywords:
 SLICE_TIME: Beginning of time window in seconds since Jan. 1, 1970.  If
             CENTER_TIME keyword set, then TIME is the center of the time widow
             specified by the TIMEWIN keyword.
 CENTER_TIME: Flag that, when set, centers the time window set in TIMEWIN
              around the time specified with the TIME keyword.
 TIMEWIN: Length in seconds over which to compute the slice.
 SLICE_ORIENT: [x, y, z, vel] A four-element array that specifies the
               orientation of the slice plane.  The first three elements
               specify the direction of the plane's normal vector.  The fourth
               element is the distance of the slice plane's center from the
               origin along the plane's normal vector in units of meters/sec. 
 RESOLUTION: A single integer specfying the length, width, and height of the
             cube grid used to interpolate the particle distribution.
 ROTATION: suggesting the x and y axis, which can be specified as the following:
   'BV': the x axis is V_para (to the magnetic field) and the bulk velocity is in the x-y plane. (DEFAULT)
   'BE': the x axis is V_para (to the magnetic field) and the VxB direction is in the x-y plane.
   'xy': the x axis is V_x and the y axis is V_y.
   'xz': the x axis is V_x and the y axis is V_z.
   'yz': the x axis is V_y and the y axis is V_z.
   'perp': the x-y plane is perpendicular to the B field, while the x axis is the velocity projection on the plane.
   'perp_xy': the x-y plane is perpendicular to the B field, while the x axis is the x projection on the plane.
   'perp_xz': the x-y plane is perpendicular to the B field, while the x axis is the x projection on the plane.
   'perp_yz': the x-y plane is perpendicular to the B field, while the x axis is the y projection on the plane.
 ERANGE: specifies the energy range to be used
 REMOVEZERO: removes the data with zero counts for plotting
 SUBTRACT: subtract the bulk velocity before plot

Output Keywords for 2-D plotting:
 PART_SLICE: The 2-D array of flux (the slice that you want to plot).
 XGRID: Array of x-locations for the slice grid.
 YGRID: Array of y-locations for the slice grid.
 ZGRID: Array of z-locations for the slice grid.
 
Output Keywords for 3-D plotting:
 VPARA: Variable to return the x-axis location of the zdata.
 VPERP1: Variable to return the y-axis location of the zdata.
 VPERP2: Variable to return the z-axis location of the zdata.
 ZDATA: Variable to return the z data (the flux).

 
 The following keywords are used to pass variables back to the calling that are
 useful for plotting.
 ROT_MATRIX: The rotation matrix created by setting the ROTATION keyword
 
CREATED BY: Bryan Kerr based on Arjun Raj original thm_esa_slice2d.pro
EXAMPLES:  see the crib file: thm_crib_part_slice2d.pro
</PRE><P>
<STRONG>(See <A href="slices/thm_part_slice2d.pro">themis/spacecraft/particles/slices/thm_part_slice2d.pro</A>)</STRONG><P>
<HR>
 
